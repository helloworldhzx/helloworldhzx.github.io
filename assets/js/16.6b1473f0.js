(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{514:function(e,a,s){"use strict";s.r(a);var t=s(6),r=Object(t.a)({},(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h2",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[e._v("#")]),e._v(" 安装")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://www.mongodb.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("官网"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"http://dl.mongodb.org/dl/win32/x86_64",target:"_blank",rel:"noopener noreferrer"}},[e._v("各个版本下载地址"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://docs.mongodb.com/manual/",target:"_blank",rel:"noopener noreferrer"}},[e._v("手册"),s("OutboundLink")],1)])]),e._v(" "),s("h2",{attrs:{id:"使用mongodb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用mongodb"}},[e._v("#")]),e._v(" 使用mongodb")]),e._v(" "),s("p",[e._v("在mongodb4.x 之前我们必须手动启动mongodb，但是mongodb4.x 以后不需要手动启动\nmongodb 了，它默认会开机启动")]),e._v(" "),s("p",[e._v("安装完成后直接运行mongo 命令就可以连上mongod 数据库。")]),e._v(" "),s("h2",{attrs:{id:"创建、查看、删除数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建、查看、删除数据库"}},[e._v("#")]),e._v(" 创建、查看、删除数据库")]),e._v(" "),s("ul",[s("li",[e._v("查看"),s("br"),e._v(" "),s("code",[e._v("show dbs")])]),e._v(" "),s("li",[e._v("创建\n"),s("ul",[s("li",[e._v("使用数据库"),s("br"),e._v(" "),s("code",[e._v("use zz")])]),e._v(" "),s("li",[e._v("要想创建数据库成功需要添加一条数据"),s("br"),e._v(" "),s("code",[e._v('db.user.insert({"name":"zz"})')])])])]),e._v(" "),s("li",[e._v("删除\n"),s("ul",[s("li",[e._v("显示当前表"),s("br"),e._v(" "),s("code",[e._v("show collections")])]),e._v(" "),s("li",[e._v("删除表\n"),s("code",[e._v("db.user.drop()")])]),e._v(" "),s("li",[e._v("删除数据库"),s("br"),e._v(" "),s("code",[e._v("db.dropDatabase()")])])])])]),e._v(" "),s("h2",{attrs:{id:"表增删改查"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#表增删改查"}},[e._v("#")]),e._v(" 表增删改查")]),e._v(" "),s("ul",[s("li",[e._v("查\n"),s("ul",[s("li",[e._v("查找所有记录"),s("br"),e._v(" "),s("code",[e._v("db.user.find() -- select * from user")])]),e._v(" "),s("li",[e._v("查询去掉后的当前集合中的某列的重复数据"),s("br"),e._v(" "),s("code",[e._v('db.user.distinct("name")')])]),e._v(" "),s("li",[e._v("查询某字段值的记录"),s("br"),e._v(" "),s("code",[e._v("db.user.find({name:22})")])]),e._v(" "),s("li",[e._v("查询大于的记录"),s("br"),e._v(" "),s("code",[e._v("db.user.find({age:{$gt:11}})")])]),e._v(" "),s("li",[e._v("查询小于的记录"),s("br"),e._v(" "),s("code",[e._v("db.user.find({age:{$lt:11}})")])]),e._v(" "),s("li",[e._v("查询大于等于的记录"),s("br"),e._v(" "),s("code",[e._v("db.user.find({age:{$gte:11}})")])]),e._v(" "),s("li",[e._v("查询小于等于的记录"),s("br"),e._v(" "),s("code",[e._v("db.user.find({age:{$lte:11}})")])]),e._v(" "),s("li",[e._v("查询小于等于并且大于等于的记录"),s("br"),e._v(" "),s("code",[e._v("db.user.find({age:{$gte:11,$lte:44}})")])]),e._v(" "),s("li",[e._v("模糊查询"),s("br"),e._v(" "),s("code",[e._v("db.user.find({name:/xxxx/})")])]),e._v(" "),s("li",[e._v("返回指定列"),s("br"),e._v(" "),s("code",[e._v("db.user.find({}，{name:1}) 第一个对象中可以加查询条件，第二个对象返回指定的列")])]),e._v(" "),s("li",[e._v("1 升序、-1 降序"),s("br"),e._v(" "),s("code",[e._v("db.user.find().sort({age:1}) db.user.find().sort({age:-1})")])]),e._v(" "),s("li",[e._v("查询前5条"),s("br"),e._v(" "),s("code",[e._v("db.user.find().limit(5)")])]),e._v(" "),s("li",[e._v("查询10条以后的条"),s("br"),e._v(" "),s("code",[e._v("db.user.find().skip(10)")])]),e._v(" "),s("li",[e._v("使用limit和skip进行分页 ---limit 是pageSize，skip 是(page-1)*pageSize"),s("br"),e._v(" "),s("code",[e._v("db.user.find().skip(10).limit(10)")])]),e._v(" "),s("li",[e._v("or查询"),s("br"),e._v(" "),s("code",[e._v("db.user.find({$or: [{age: 22}, {age: 25}]});")])]),e._v(" "),s("li",[e._v("查找一条"),s("br"),e._v(" "),s("code",[e._v("db.user.findOne();")])]),e._v(" "),s("li",[e._v("统计数量"),s("br"),e._v(" "),s("code",[e._v("db.user.find().count()")])])])]),e._v(" "),s("li",[e._v("改"),s("br"),e._v(" "),s("code",[e._v('db.student.update({"name":"小明"},{$set:{"age":16}}) 第一个对象为查询条件，第二个为需要修改的值，如果')]),e._v(" "),s("code",[e._v('db.student.update({"name":"小明"},{$set:{"age":16}}，{multi:true}) 设置multi之后更改所有匹配数据')]),e._v(" "),s("code",[e._v('db.student.update({"name":"小明"},{"name":"大明","age":16}); 如果没有$set 直接替换整条数据')])]),e._v(" "),s("li",[e._v("增"),s("br"),e._v(" "),s("code",[e._v('db.user.insert({name:"xxx"})')])]),e._v(" "),s("li",[e._v("删"),s("br"),e._v(" "),s("code",[e._v("db.users.remove({age: 132})")]),e._v(" "),s("code",[e._v("db.users.remove({age: 132},{justOne:true}) 只删除一条")])])]),e._v(" "),s("h2",{attrs:{id:"索引"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#索引"}},[e._v("#")]),e._v(" 索引")]),e._v(" "),s("ul",[s("li",[e._v("查看索引"),s("br"),e._v(" "),s("code",[e._v("db.user.getIndexes()")])]),e._v(" "),s("li",[e._v("创建索引"),s("br"),e._v(" "),s("code",[e._v("db.user.ensureIndex({username:1})")]),e._v("1升序 -1降序")]),e._v(" "),s("li",[e._v("删除索引"),s("br"),e._v(" "),s("code",[e._v("db.user.dropIndex({username:1})")])]),e._v(" "),s("li",[e._v("复合索引"),s("br"),e._v(" "),s("code",[e._v("db.user.ensureIndex({username:1,age:-1})")]),e._v("查询name和age或者只查name时能索引，但是只查询age时没有索引")]),e._v(" "),s("li",[e._v("指定索引名(方法第二参数)\n"),s("code",[e._v('db.user.ensureIndex({username:1},{name:"xxxxx"})')])]),e._v(" "),s("li",[e._v("唯一索引\n"),s("code",[e._v("db.username.ensureIndex({age:1},{unique:ture})")]),e._v("age值不能重复，相同时不能插入")])]),e._v(" "),s("h3",{attrs:{id:"索引第二个对象可传参数-unique-name-background-dropdups"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#索引第二个对象可传参数-unique-name-background-dropdups"}},[e._v("#")]),e._v(" 索引第二个对象可传参数[unique,name,background,dropDups]")]),e._v(" "),s("ul",[s("li",[e._v("unique 唯一索引")]),e._v(" "),s("li",[e._v("name 索引名")]),e._v(" "),s("li",[e._v("background 添加索引时会阻塞其他数据库操作，设置为true可以在后台执行")]),e._v(" "),s("li",[e._v("dropDups 建立唯一索引时是否删除重复记录 "),s("font",{attrs:{color:"red"}},[e._v("3.0+版本已废弃")])],1)]),e._v(" "),s("h3",{attrs:{id:"explain获得查询方面诸多有用的信息-参数有-executionstats"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#explain获得查询方面诸多有用的信息-参数有-executionstats"}},[e._v("#")]),e._v(" explain获得查询方面诸多有用的信息 参数有[executionStats]")]),e._v(" "),s("ul",[s("li",[e._v("executionStats 查询具体的执行时间")])]),e._v(" "),s("h2",{attrs:{id:"mongodb账户权限配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb账户权限配置"}},[e._v("#")]),e._v(" mongodb账户权限配置")]),e._v(" "),s("ol",[s("li",[e._v("创建管理员")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("  use admin\n  db.createUser({\n  user:'zz',\n  pwd:'zz',\n  roles:[{role:'root',db:'admin'}]\n  })\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br")])]),s("ol",{attrs:{start:"2"}},[s("li",[e._v("修改Mongodb 数据库配置文件")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("路径：C:\\Program Files\\MongoDB\\Server\\4.0\\bin\\mongod.cfg\n配置：\nsecurity:\n  authorization: enabled\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])]),s("ol",{attrs:{start:"3"}},[s("li",[e._v("重启mongodb 服务")]),e._v(" "),s("li",[e._v("用超级管理员账户连接数据库")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("mongo admin -u 用户名-p 密码\nmongo 192.168.1.200:27017/test -u user -p password  //远程连接带ip端口\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("ol",{attrs:{start:"5"}},[s("li",[e._v("给zz数据库创建一个用户只能访问zz,不能访问其他数据库")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('use zz\ndb.createUser(\n{\nuser: "zzadmin",\npwd: "123456",\nroles: [ { role: "dbOwner", db: "zz" } ]\n}\n)\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br")])]),s("h3",{attrs:{id:"mongodb-账户权限配置中常用的命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-账户权限配置中常用的命令"}},[e._v("#")]),e._v(" Mongodb 账户权限配置中常用的命令")]),e._v(" "),s("ul",[s("li",[e._v("show users; 查看当前库下的用户")]),e._v(" "),s("li",[e._v('db.dropUser("zzadmin"); 删除用户')]),e._v(" "),s("li",[e._v('db.updateUser( "admin",{pwd:"password"}); 修改用户密码')]),e._v(" "),s("li",[e._v('db.auth("admin","password"); 密码认证')])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('mongo admin //先连接数据库\ndb.auth("zz","zz") //再输入密码\n等同于 mongo admin -u zz -p zz\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br")])]),s("h3",{attrs:{id:"mongodb-数据库角色"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-数据库角色"}},[e._v("#")]),e._v(" Mongodb 数据库角色")]),e._v(" "),s("ol",[s("li",[e._v("数据库用户角色：read、readWrite;")]),e._v(" "),s("li",[e._v("数据库管理角色：dbAdmin、dbOwner、userAdmin;")]),e._v(" "),s("li",[e._v("集群管理角色：clusterAdmin、clusterManager、clusterMonitor、hostManager;")]),e._v(" "),s("li",[e._v("备份恢复角色：backup、restore;")]),e._v(" "),s("li",[e._v("所有数据库角色： readAnyDatabase、readWriteAnyDatabase、userAdminAnyDatabase、dbAdminAnyDatabase")]),e._v(" "),s("li",[e._v("超级用户角色：root"),s("br"),e._v("\n参考：https://www.cnblogs.com/zzw1787044/p/5773178.html")])]),e._v(" "),s("h3",{attrs:{id:"连接数据库的时候需要配置账户密码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#连接数据库的时候需要配置账户密码"}},[e._v("#")]),e._v(" 连接数据库的时候需要配置账户密码")]),e._v(" "),s("p",[s("code",[e._v("const url = 'mongodb://admin:123456@localhost:27017/';")])]),e._v(" "),s("h2",{attrs:{id:"mongodb高级查询aggregate-聚合管道"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb高级查询aggregate-聚合管道"}},[e._v("#")]),e._v(" mongodb高级查询aggregate 聚合管道")]),e._v(" "),s("p",[e._v("主要用于表关联查询、数据统计")]),e._v(" "),s("h3",{attrs:{id:"mongodb-aggregation-管道操作符与表达式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-aggregation-管道操作符与表达式"}},[e._v("#")]),e._v(" MongoDB Aggregation 管道操作符与表达式")]),e._v(" "),s("table",[s("thead",[s("tr",[s("th",[e._v("管道操作符")]),e._v(" "),s("th",[e._v("描述")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("$project")]),e._v(" "),s("td",[e._v("增加、删除、重命名字段")])]),e._v(" "),s("tr",[s("td",[e._v("$match")]),e._v(" "),s("td",[e._v("条件匹配。只满足条件的文档才能进入下一阶段")])]),e._v(" "),s("tr",[s("td",[e._v("$limit")]),e._v(" "),s("td",[e._v("限制结果的数量")])]),e._v(" "),s("tr",[s("td",[e._v("$skip")]),e._v(" "),s("td",[e._v("跳过文档的数量")])]),e._v(" "),s("tr",[s("td",[e._v("$sort")]),e._v(" "),s("td",[e._v("条件排序")])]),e._v(" "),s("tr",[s("td",[e._v("$group")]),e._v(" "),s("td",[e._v("条件组合结果统计")])]),e._v(" "),s("tr",[s("td",[e._v("$looup")]),e._v(" "),s("td",[e._v("用以引入其它集合的数据（表关联查询）")])])])]),e._v(" "),s("h3",{attrs:{id:"mongodb-aggregation-管道表达式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-aggregation-管道表达式"}},[e._v("#")]),e._v(" MongoDB Aggregation 管道表达式")]),e._v(" "),s("table",[s("thead",[s("tr",[s("th",[e._v("常用表达式操作")]),e._v(" "),s("th",[e._v("描述")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("$addToSet")]),e._v(" "),s("td",[e._v("将文档指定字段的值去重")])]),e._v(" "),s("tr",[s("td",[e._v("$max")]),e._v(" "),s("td",[e._v("文档指定字段的最大值")])]),e._v(" "),s("tr",[s("td",[e._v("$min")]),e._v(" "),s("td",[e._v("文档指定字段的最小值")])]),e._v(" "),s("tr",[s("td",[e._v("$sum")]),e._v(" "),s("td",[e._v("文档指定字段求和")])]),e._v(" "),s("tr",[s("td",[e._v("$avg")]),e._v(" "),s("td",[e._v("文档指定字段求平均")])]),e._v(" "),s("tr",[s("td",[e._v("$gt")]),e._v(" "),s("td",[e._v("大于给定值")])]),e._v(" "),s("tr",[s("td",[e._v("$lt")]),e._v(" "),s("td",[e._v("小于给定值")])]),e._v(" "),s("tr",[s("td",[e._v("$eq")]),e._v(" "),s("td",[e._v("等于给定值")])])])]),e._v(" "),s("h3",{attrs:{id:"操作符实际例子"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#操作符实际例子"}},[e._v("#")]),e._v(" 操作符实际例子")]),e._v(" "),s("ol",[s("li",[e._v("$project")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("// 返回的数据内容只有trade_no、all_price两个字段\ndb.order.aggregate([\n{\n$project:{ trade_no:1, all_price:1 }\n}\n])\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br")])]),s("ol",{attrs:{start:"2"}},[s("li",[e._v("$match")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('// 返回大于等于90的数据，内容只有trade_no、all_price两个字段\ndb.order.aggregate([\n{$project:{ trade_no:1, all_price:1 }},\n{$match:{"all_price":{$gte:90}}}\n])\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br")])]),s("ol",{attrs:{start:"3"}},[s("li",[e._v("$group")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('// 先根据order_id分组，同组的num相加赋值给total，最后返回含有_id、total的数据\ndb.order_item.aggregate(\n[{$group: {_id: "$order_id", total: {$sum: "$num"}}}]\n)\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])]),s("ol",{attrs:{start:"4"}},[s("li",[e._v("$sort")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('// 返回大于等于90的数据，根据all_price降序排序，内容只有trade_no、all_price两个字段\ndb.order.aggregate([\n{$project:{ trade_no:1, all_price:1 }},\n{$match:{"all_price":{$gte:90}}},\n{$sort:{"all_price":-1}}\n])\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br")])]),s("ol",{attrs:{start:"5"}},[s("li",[e._v("$limit")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('// 只返回一条\ndb.order.aggregate([\n{$project:{ trade_no:1, all_price:1 }},\n{$match:{"all_price":{$gte:90}}},\n{$sort:{"all_price":-1}},\n{$limit:1}\n])\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br")])]),s("ol",{attrs:{start:"6"}},[s("li",[e._v("$skip")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('// 跳过一条数据返回剩下的数据\ndb.order.aggregate([\n{$project:{ trade_no:1, all_price:1 }},\n{$match:{"all_price":{$gte:90}}},\n{$sort:{"all_price":-1}},\n{$skip:1}\n])\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br")])]),s("ol",{attrs:{start:"7"}},[s("li",[e._v("$lookup 表关联(重点)")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('// 还能结合之前的操作符   疑问？items里面的值是否能用之前的操作进行筛选过滤字段\ndb.order.aggregate([\n{\n  $lookup:{\n    from: "order_item", //需要查的表\n    localField: "order_id", // 主表id\n    foreignField: "order_id", // 名称可以不一样，自定义\n    as: "items" // 返回的字段名叫items\n  }\n}\n])\n\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br")])]),s("h2",{attrs:{id:"导入json文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#导入json文件"}},[e._v("#")]),e._v(" 导入json文件")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("// 关闭了账号密码\nsecurity:\n  authorization: enabled\n不关闭会连接失败，应该是需要账号密码怎么写不知道，暂时先关闭  \n\n// 需要在mongodb安装目录bin下执行\nmongoimport -d myshop -c shopItem --file C:\\shopItem.json\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);